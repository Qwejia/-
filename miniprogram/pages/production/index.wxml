<!-- ç”Ÿäº§åˆ¶é€ é¦–é¡µ -->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="header">
    <text class="header-title">ç”Ÿäº§åˆ¶é€ </text>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-card">
      <text class="stats-label">æ€»è®¡åˆ’æ•°</text>
      <text class="stats-value">{{productionStats.totalPlans}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">å¾…å¤„ç†è®¡åˆ’</text>
      <text class="stats-value pending">{{productionStats.pendingPlans}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">å·²å®Œæˆè®¡åˆ’</text>
      <text class="stats-value completed">{{productionStats.completedPlans}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">è½¦é—´è®¢å•æ•°</text>
      <text class="stats-value workshop">{{productionStats.totalWorkshopOrders}}</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-grid">
      <view class="menu-item" bindtap="goToProductionPlan">
        <view class="menu-icon plan-icon">ğŸ“‹</view>
        <text class="menu-text">ç”Ÿäº§è®¡åˆ’</text>
      </view>
      <view class="menu-item" bindtap="goToWorkshop">
        <view class="menu-icon workshop-icon">ğŸ­</view>
        <text class="menu-text">è½¦é—´ç®¡ç†</text>
      </view>
      <view class="menu-item" bindtap="goToBom">
        <view class="menu-icon bom-icon">ğŸ§©</view>
        <text class="menu-text">ç‰©æ–™æ¸…å•</text>
      </view>
      <view class="menu-item" bindtap="goToProductionAnalysis">
        <view class="menu-icon analysis-icon">ğŸ“Š</view>
        <text class="menu-text">ç”Ÿäº§åˆ†æ</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘ç”Ÿäº§è®¡åˆ’ -->
  <view class="recent-plans-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘ç”Ÿäº§è®¡åˆ’</text>
      <text class="section-more" bindtap="goToProductionPlan">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="plans-list">
      <view wx:for="{{recentPlans}}" wx:key="_id" class="plan-item" data-plan-id="{{_id}}" bindtap="goToPlanDetail">
        <view class="plan-header">
          <text class="plan-number">{{item.planNumber}}</text>
          <text class="plan-status {{item.status}}">{{item.status === 'completed' ? 'å·²å®Œæˆ' : item.status === 'pending' ? 'å¾…å¤„ç†' : 'å¤„ç†ä¸­'}}</text>
        </view>
        <view class="plan-info">
          <text class="plan-product">{{item.productName}}</text>
          <text class="plan-quantity">{{item.quantity}} ä»¶</text>
        </view>
        <view class="plan-dates">
          <text class="date-label">å¼€å§‹æ—¥æœŸ:</text>
          <text class="date-value">{{item.startDate}}</text>
          <text class="date-label">ç»“æŸæ—¥æœŸ:</text>
          <text class="date-value">{{item.endDate}}</text>
        </view>
      </view>
    </view>
  </view>
</view>