<!-- é‡‡è´­ç®¡ç†é¦–é¡µ -->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="header">
    <text class="header-title">é‡‡è´­ç®¡ç†</text>
  </view>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <view class="stats-card">
      <text class="stats-label">æ€»è®¢å•æ•°</text>
      <text class="stats-value">{{purchaseStats.totalOrders}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">å¾…å¤„ç†è®¢å•</text>
      <text class="stats-value pending">{{purchaseStats.pendingOrders}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">å·²å®Œæˆè®¢å•</text>
      <text class="stats-value completed">{{purchaseStats.completedOrders}}</text>
    </view>
    <view class="stats-card">
      <text class="stats-label">é‡‡è´­æ€»é¢</text>
      <text class="stats-value amount">{{purchaseStats.totalAmount.toLocaleString('zh-CN', { style: 'currency', currency: 'CNY' })}}</text>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-grid">
      <view class="menu-item" bindtap="goToOrderList">
        <view class="menu-icon order-icon">ğŸ“‹</view>
        <text class="menu-text">é‡‡è´­è®¢å•</text>
      </view>
      <view class="menu-item" bindtap="goToOrderAdd">
        <view class="menu-icon add-icon">â•</view>
        <text class="menu-text">æ–°å¢è®¢å•</text>
      </view>
      <view class="menu-item" bindtap="goToSupplierManage">
        <view class="menu-icon supplier-icon">ğŸ‘¤</view>
        <text class="menu-text">ä¾›åº”å•†ç®¡ç†</text>
      </view>
      <view class="menu-item" bindtap="goToPurchaseAnalysis">
        <view class="menu-icon analysis-icon">ğŸ“Š</view>
        <text class="menu-text">é‡‡è´­åˆ†æ</text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘è®¢å• -->
  <view class="recent-orders-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘è®¢å•</text>
      <text class="section-more" bindtap="goToOrderList">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="orders-list">
      <view wx:for="{{recentOrders}}" wx:key="_id" class="order-item" data-order-id="{{_id}}" bindtap="goToOrderDetail">
        <view class="order-header">
          <text class="order-number">{{item.orderNumber}}</text>
          <text class="order-status {{item.status}}">{{item.status === 'completed' ? 'å·²å®Œæˆ' : item.status === 'pending' ? 'å¾…å¤„ç†' : 'å¤„ç†ä¸­'}}</text>
        </view>
        <view class="order-info">
          <text class="order-supplier">{{item.supplierName}}</text>
          <text class="order-date">{{item.orderDate}}</text>
        </view>
        <view class="order-amount">
          <text class="amount-label">è®¢å•é‡‘é¢:</text>
          <text class="amount-value">{{item.totalAmount.toLocaleString('zh-CN', { style: 'currency', currency: 'CNY' })}}</text>
        </view>
      </view>
    </view>
  </view>
</view>