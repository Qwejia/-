<view class="container">
  <!-- 页面头部 -->
  <view class="page-header">
    <text class="page-title">系统设置</text>
  </view>

  <!-- 内容区域 -->
  <view class="content">
    <!-- 用户信息模块 -->
    <view class="module">
      <view class="user-info">
        <view class="user-avatar">
          <text class="avatar-icon">{{userInfo.avatar}}</text>
        </view>
        <view class="user-details">
          <text class="user-name">{{userInfo.name}}</text>
          <text class="user-role">{{userInfo.role}}</text>
        </view>
      </view>
    </view>

    <!-- 应用设置模块 -->
    <view class="module">
      <view class="module-header">
        <text class="module-title">应用设置</text>
      </view>
      <view class="module-content">
        <view class="setting-item">
          <text class="setting-label">通知提醒</text>
          <switch checked="{{appSettings.notifications}}" bindchange="toggleNotifications" color="#1677ff" />
        </view>
        <view class="setting-item">
          <text class="setting-label">深色模式</text>
          <switch checked="{{appSettings.darkMode}}" bindchange="toggleDarkMode" color="#1677ff" />
        </view>
        <view class="setting-item">
          <text class="setting-label">语言</text>
          <view class="setting-value">
            <picker value="{{appSettings.languageIndex}}" range="{{languageOptions}}" range-key="name" bindchange="selectLanguage" class="language-picker">
              <view class="picker-content">{{appSettings.language === 'zh-CN' ? '简体中文' : 'English'}}</view>
            </picker>
            <text class="arrow-icon">></text>
          </view>
        </view>
      </view>
    </view>

    <!-- 安全设置模块 -->
    <view class="module">
      <view class="module-header">
        <text class="module-title">安全设置</text>
      </view>
      <view class="module-content">
        <view class="setting-item">
          <text class="setting-label">双重认证</text>
          <switch checked="{{securitySettings.twoFactorAuth}}" bindchange="toggleTwoFactorAuth" color="#1677ff" />
        </view>
        <view class="setting-item">
          <text class="setting-label">登录验证</text>
          <switch checked="{{securitySettings.loginVerification}}" bindchange="toggleLoginVerification" color="#1677ff" />
        </view>
        <view class="setting-item">
          <text class="setting-label">会话超时</text>
          <view class="setting-value">
            <picker value="{{securitySettings.sessionTimeoutIndex}}" range="['15分钟', '30分钟', '1小时', '2小时', '永不超时']" bindchange="selectSessionTimeout" class="timeout-picker">
              <view class="picker-content">{{securitySettings.sessionTimeout}}</view>
            </picker>
            <text class="arrow-icon">></text>
          </view>
        </view>
        <view class="setting-item button-item" bindtap="changePassword">
          <text class="setting-label">修改密码</text>
          <text class="arrow-icon">></text>
        </view>
      </view>
    </view>

    <!-- 其他设置模块 -->
    <view class="module">
      <view class="module-header">
        <text class="module-title">其他设置</text>
      </view>
      <view class="module-content">
        <view class="setting-item button-item" bindtap="clearCache">
          <text class="setting-label">清除缓存</text>
          <text class="arrow-icon">></text>
        </view>
        <view class="setting-item button-item" bindtap="aboutUs">
          <text class="setting-label">关于我们</text>
          <text class="arrow-icon">></text>
        </view>
      </view>
    </view>

    <!-- 退出登录按钮 -->
    <view class="logout-section">
      <button class="logout-btn" type="warn" bindtap="logout">退出登录</button>
    </view>

    <!-- 版本信息 -->
    <view class="version-info">
      <text class="version-text">版本 {{aboutInfo.version}}</text>
    </view>
  </view>
</view>