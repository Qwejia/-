<view class="page-container">
  <view class="header-bar">
    <text class="page-title">å…±äº«ä¼šè®¡</text>
    <view class="header-actions">
      <button class="ai-btn" bindtap="openAIAssistant">
        <text class="ai-icon">ğŸ¤–</text>
      </button>
    </view>
  </view>

  <scroll-view class="content-scroll" scroll-y>
    <view class="content-wrapper">
      <view class="hero-section">
        <view class="hero-card">
          <text class="hero-title">ä¸“ä¸šä¼šè®¡æœåŠ¡</text>
          <text class="hero-subtitle">é«˜æ•ˆå¯¹æ¥ï¼Œä¸“ä¸šæœåŠ¡</text>
          <button class="hero-btn" bindtap="navigateToPostTask">
            <text class="btn-icon">âœï¸</text>
            <text class="btn-text">å‘å¸ƒä»»åŠ¡</text>
          </button>
        </view>
      </view>

      <view class="services-section">
        <view class="section-header">
          <text class="section-title">æœåŠ¡ç±»å‹</text>
        </view>
        <view class="services-grid">
          <view class="service-card tax" bindtap="navigateToTaskList" data-service="tax">
            <view class="service-icon-wrapper">
              <text class="service-icon">ğŸ“‹</text>
            </view>
            <text class="service-name">ç¨åŠ¡ç”³æŠ¥</text>
          </view>
          <view class="service-card accounting" bindtap="navigateToTaskList" data-service="accounting">
            <view class="service-icon-wrapper">
              <text class="service-icon">ğŸ“Š</text>
            </view>
            <text class="service-name">è´¦åŠ¡å¤„ç†</text>
          </view>
          <view class="service-card audit" bindtap="navigateToTaskList" data-service="audit">
            <view class="service-icon-wrapper">
              <text class="service-icon">ğŸ”</text>
            </view>
            <text class="service-name">è´¢åŠ¡å®¡è®¡</text>
          </view>
          <view class="service-card consulting" bindtap="navigateToTaskList" data-service="consulting">
            <view class="service-icon-wrapper">
              <text class="service-icon">ğŸ’¡</text>
            </view>
            <text class="service-name">è´¢åŠ¡å’¨è¯¢</text>
          </view>
        </view>
      </view>

      <view class="accountants-section">
        <view class="section-header">
          <text class="section-title">æ¨èä¼šè®¡</text>
          <view class="view-all-btn" bindtap="navigateToAccountantList">
            <text class="view-all-text">æŸ¥çœ‹å…¨éƒ¨</text>
            <text class="view-all-arrow">â†’</text>
          </view>
        </view>
        <view class="accountants-list">
          <view class="accountant-card" wx:for="{{recommendedAccountants}}" wx:key="id" bindtap="viewAccountantDetail" data-id="{{item.id}}">
            <view class="accountant-header">
              <view class="accountant-avatar">
                <text class="avatar-text">{{item.avatar}}</text>
              </view>
              <view class="accountant-basic">
                <text class="accountant-name">{{item.name}}</text>
                <view class="accountant-rating">
                  <text class="rating-stars">{{item.rating}}â­</text>
                </view>
              </view>
              <view class="accountant-price">
                <text class="price-value">Â¥{{item.price}}</text>
                <text class="price-unit">/æ¬¡</text>
              </view>
            </view>
            <view class="accountant-body">
              <text class="accountant-specialty">{{item.specialty}}</text>
              <view class="accountant-stats">
                <view class="stat-item">
                  <text class="stat-value">{{item.experience}}</text>
                  <text class="stat-label">å¹´ç»éªŒ</text>
                </view>
                <view class="stat-divider">|</view>
                <view class="stat-item">
                  <text class="stat-value">{{item.completedTasks}}</text>
                  <text class="stat-label">å•</text>
                </view>
              </view>
            </view>
            <view class="accountant-footer">
              <button class="book-btn" catchtap="hireAccountant" data-id="{{item.id}}">ç«‹å³é¢„çº¦</button>
            </view>
          </view>
        </view>
      </view>

      <view class="tasks-section">
        <view class="section-header">
          <text class="section-title">æˆ‘çš„ä»»åŠ¡</text>
          <view class="view-all-btn" bindtap="navigateToMyTasks">
            <text class="view-all-text">æŸ¥çœ‹å…¨éƒ¨</text>
            <text class="view-all-arrow">â†’</text>
          </view>
        </view>
        <view class="tasks-list">
          <view class="task-card" wx:for="{{myTasks}}" wx:key="id" bindtap="viewTaskDetail" data-id="{{item.id}}">
            <view class="task-header">
              <text class="task-title">{{item.title}}</text>
              <view class="task-status {{item.statusClass}}">{{item.status}}</view>
            </view>
            <text class="task-description">{{item.description}}</text>
            <view class="task-footer">
              <view class="task-price">
                <text class="price-label">é¢„ç®—</text>
                <text class="price-value">Â¥{{item.price}}</text>
              </view>
              <text class="task-date">{{item.createdDate}}</text>
            </view>
          </view>
          <view class="empty-state" wx:if="{{myTasks.length === 0}}">
            <text class="empty-icon">ğŸ“‹</text>
            <text class="empty-text">æš‚æ— ä»»åŠ¡</text>
            <button class="empty-btn" bindtap="navigateToPostTask">å‘å¸ƒç¬¬ä¸€ä¸ªä»»åŠ¡</button>
          </view>
        </view>
      </view>

      <view class="process-section">
        <view class="section-header">
          <text class="section-title">æœåŠ¡æµç¨‹</text>
        </view>
        <view class="process-steps">
          <view class="process-step">
            <view class="step-number">1</view>
            <view class="step-content">
              <text class="step-title">å‘å¸ƒä»»åŠ¡</text>
              <text class="step-desc">å¡«å†™éœ€æ±‚è¯¦æƒ…</text>
            </view>
          </view>
          <view class="step-connector"></view>
          <view class="process-step">
            <view class="step-number">2</view>
            <view class="step-content">
              <text class="step-title">ä¼šè®¡åŒ¹é…</text>
              <text class="step-desc">ä¸“ä¸šä¼šè®¡æ¥å•</text>
            </view>
          </view>
          <view class="step-connector"></view>
          <view class="process-step">
            <view class="step-number">3</view>
            <view class="step-content">
              <text class="step-title">åœ¨çº¿æ²Ÿé€š</text>
              <text class="step-desc">ç¡®è®¤æœåŠ¡ç»†èŠ‚</text>
            </view>
          </view>
          <view class="step-connector"></view>
          <view class="process-step">
            <view class="step-number">4</view>
            <view class="step-content">
              <text class="step-title">å®Œæˆäº¤ä»˜</text>
              <text class="step-desc">éªŒæ”¶ä»˜æ¬¾è¯„ä»·</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
